{"version":3,"sources":["components/headers/HeaderError.js","components/Content.js","components/ErrorComponent.js","components/Loading.js","css/fav.svg","components/FavoritesBtn.js","context/AppContext.js","components/Item.js","components/ItemsList.js","containers/CategoryFilter.js","containers/PriceFilter.js","containers/FavoritesFilter.js","components/FilterBar.js","containers/SortBar.js","components/headers/Header.js","globals.js","components/layouts/Layout.js","components/headers/HeaderFavorites.js","components/layouts/LayoutFavorites.js","containers/App.js","index.js"],"names":["HeaderBlank","react_default","a","createElement","className","react_router_dom","to","Content","_ref","children","ErrorComponent","error","Fragment","HeaderError","components_Content","toString","Loading","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","d","fav_SvgFav","svgRef","props","width","height","ref","ForwardRef","forwardRef","FavoritesBtn","__webpack_require__","p","isFavorite","data","_ref$context","context","addFavorite","removeFavorite","type","onClick","fill","fillRule","stroke","AppContext","React","createContext","AppContextProvider","Provider","AppContextConsumer","Consumer","Item","title","price","pictures","seller","src","alt","toConsumableArray","reverse","map","letter","join","parsePrice","name","rating","value","components_FavoritesBtn","ItemsList","items","sellers","favorites","itemsToShow","limit","item","find","id","relationships","fav","components_Item","objectSpread","renderItems","CategoryFilter","state","category","_this","filters","changeHandler","e","setState","setFilter","checked","onChange","Component","contextType","PriceFilter","from","_e$target","defineProperty","_this$state","placeholder","FavoritesFilter","Boolean","Number","FilterBar","containers_CategoryFilter","containers_PriceFilter","containers_FavoritesFilter","SortBar","sorting","direction","setSorting","Header","components_FilterBar","containers_SortBar","initialItems","itemsToAdd","scrollMargin","Layout","filterContext","favoritesContext","setProductsToShow","useEffect","headers_Header","components_ItemsList","HeaderFavorites","LayoutFavorites","headers_HeaderFavorites","App","loading","products","filteredProducts","JSON","parse","localStorage","getItem","productsToShow","slice","push","index","findIndex","splice","scrollHandler","_e$target$documentEle","documentElement","clientHeight","scrollTop","scrollHeight","filter","url","axios","get","then","res","status","Error","_this2","_filters$price","_this3","_this$state2","_this$state2$sorting","sortedProducts","sort","b","priceA","priceB","sellerA","person","sellerB","document","_this4","window","addEventListener","fetchProducts","fetchData","fetchSellers","Promise","all","catch","_","prevState","_this$state3","filterProducts","sortProducts","setItem","stringify","_this6","_this$state4","_this5","components_Loading","components_ErrorComponent","react_router","exact","path","render","setTitle","layouts_Layout","layouts_LayoutFavorites","ReactDOM","basename","process","containers_App","getElementById"],"mappings":"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","file":"static/js/main.59663438.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HeaderBlank = () => \r\n  <header className=\"header\">\r\n    <div className=\"container\">\r\n      <h1>Ошибка</h1>\r\n      <Link to=\"/\">\r\n        На главную\r\n      </Link>\r\n    </div>\r\n  </header>\r\n\r\nexport default HeaderBlank;","import React from 'react';\r\n\r\nconst Content = ({ children }) =>\r\n  <main>\r\n    <div className=\"container\">\r\n      {children}\r\n    </div>\r\n  </main>\r\n\r\nexport default Content;","import React from 'react';\r\nimport HeaderError from './headers/HeaderError';\r\nimport Content from './Content';\r\n\r\nconst ErrorComponent = ({ error }) => \r\n  <>\r\n    <HeaderError />\r\n    <Content>\r\n      <span>{error.toString()}</span>\r\n    </Content>\r\n  </>\r\n  \r\nexport default ErrorComponent;","import React from 'react';\r\nimport Content from './Content';\r\n\r\nconst Loading = () => \r\n  <Content>\r\n    <div className=\"loading\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  </Content>\r\n\r\nexport default Loading;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M20.389 4.611c-2.147-2.148-5.63-2.148-7.778 0-.226.226-.43.469-.611.725-.18-.256-.384-.499-.611-.725-2.147-2.148-5.63-2.148-7.778 0-2.148 2.148-2.148 5.63 0 7.778l7.682 7.682c.391.39 1.024.39 1.414 0l7.682-7.682c2.148-2.148 2.148-5.63 0-7.778\"\n});\n\nvar SvgFav = function SvgFav(_ref) {\n  var svgRef = _ref.svgRef,\n      props = _objectWithoutProperties(_ref, [\"svgRef\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 24,\n    height: 24,\n    ref: svgRef\n  }, props), _ref2);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgFav, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/fav.7b25cbcd.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react';\r\nimport { ReactComponent as Icon } from '../css/fav.svg';\r\n\r\nconst FavoritesBtn = ({isFavorite, data, context: { addFavorite, removeFavorite }}) => \r\n  <button \r\n    type=\"button\" className=\"item__fav-btn\"\r\n    onClick={isFavorite ? () => removeFavorite(data) : () => addFavorite(data)}\r\n  >\r\n    <Icon \r\n      fill={isFavorite ? \"red\" : \"white\"} fillRule=\"evenodd\" \r\n      stroke={isFavorite ? \"darkred\" : \"grey\"} className=\"item__fav-icon\"\r\n    />\r\n  </button>\r\n\r\nexport default FavoritesBtn;","import React from 'react';\r\n\r\nconst AppContext = React.createContext();\r\nexport const AppContextProvider = AppContext.Provider;\r\nexport const AppContextConsumer = AppContext.Consumer;\r\nexport default AppContext;","import React from 'react';\r\nimport FavoritesBtn from './FavoritesBtn';\r\nimport { AppContextConsumer } from '../context/AppContext';\r\n\r\nfunction parsePrice(price) {\r\n  return [...price.toString()].reverse().map((letter, i) => \r\n    (i + 1) % 3 || i === 0 ? letter : ' ' + letter \r\n  ).reverse().join(''); \r\n}\r\n\r\nconst Item = ({ data }) => {\r\n  const { title, price, pictures, seller, isFavorite } = data;\r\n  return(\r\n    <li className=\"item\">\r\n      <div>\r\n        <div className=\"item__img-container\">\r\n          <img className=\"border item__img\" src={'https:' + pictures[0]} alt={title}/>\r\n          {pictures.length > 0 && \r\n            <div className=\"item__img-counter\">\r\n              <span>{pictures.length - 1}</span>\r\n            </div>\r\n          }\r\n        </div>\r\n        <h5 className=\"item__header\">{title}</h5>\r\n      </div>\r\n      {price ? \r\n        <div className=\"item__price my-2\">{parsePrice(price)} ₽</div> :\r\n        <div className=\"item__price-empty my-2\">Цена не указана</div>\r\n      }\r\n      <div className=\"mb-2\">\r\n        <div>Продавец: </div>\r\n        <div>{seller.name}</div>\r\n      </div>\r\n      <div>\r\n        <span>Рейтинг: </span>\r\n        <span>{seller.rating}</span>\r\n      </div>   \r\n      <AppContextConsumer>\r\n        {value => <FavoritesBtn isFavorite={isFavorite} data={data} context={value}/>}\r\n      </AppContextConsumer>\r\n    </li>\r\n  );\r\n}\r\n\r\nexport default Item;","import React from 'react';\r\nimport Item from './Item';\r\n\r\nfunction renderItems(data, limit) {\r\n  const { items, sellers, favorites } = data;\r\n  return items.map((item, i) => {\r\n    if (i < limit) {\r\n      const seller = sellers.find(seller => seller.id === item.relationships.seller);\r\n      const isFavorite = favorites ? favorites.find(fav => fav.id === item.id) : true;\r\n      return <Item key={item.id} data={{...item, seller, isFavorite}}/>\r\n    }\r\n    return false;\r\n  });\r\n}\r\n\r\nconst ItemsList = ({ items, sellers, favorites, itemsToShow }) => \r\n  <>\r\n    {items.length > 0 ?\r\n      <ul className=\"content__items-list\">\r\n        {renderItems({ items, sellers, favorites }, itemsToShow)}\r\n      </ul> :\r\n      <div className=\"content__items-empty\">Ничего не найдено</div>\r\n    }\r\n  </>\r\nexport default ItemsList;","import React, { Component } from 'react';\r\nimport AppContext from '../context/AppContext';\r\n\r\nclass CategoryFilter extends Component {\r\n  state = {\r\n    category: this.context.filters.category\r\n  }\r\n  changeHandler = e => {\r\n    this.setState({\r\n      category: e.target.value\r\n    }, () => this.context.setFilter({\r\n      name: 'category',\r\n      value: this.state.category\r\n    }));\r\n  }\r\n  render() {\r\n    const category = this.state.category;\r\n    return(\r\n      <div>\r\n        <label>\r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"category\" value=\"all\" \r\n            checked={category === 'all'} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Все</span>\r\n        </label>\r\n        <label>         \r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"category\" value=\"immovable\" \r\n            checked={category === 'immovable'} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Недвижимость</span>\r\n        </label>\r\n        <label>         \r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"category\" value=\"cameras\" \r\n            checked={category === 'cameras'} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Фотоаппараты</span>\r\n        </label>\r\n        <label>\r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"category\" value=\"auto\" \r\n            checked={category === 'auto'} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Автомобили</span>\r\n        </label>\r\n        <label>       \r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"category\" value=\"laptops\" \r\n            checked={category === 'laptops'} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Ноутбуки</span>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nCategoryFilter.contextType = AppContext;\r\n\r\nexport default CategoryFilter;","import React, { Component } from 'react';\r\nimport AppContext from '../context/AppContext';\r\n\r\nclass PriceFilter extends Component {\r\n  state = {\r\n    from: this.context.filters.price.from,\r\n    to: this.context.filters.price.to\r\n  }\r\n  changeHandler = e => {\r\n    let { value, id } = e.target;\r\n    if (!value) value = 'all';\r\n    this.setState({\r\n      [id]: value\r\n    }, () => this.context.setFilter({\r\n      name: 'price',\r\n      value: this.state\r\n    }));\r\n  }\r\n  render() {\r\n    const {from, to} = this.state;\r\n    return(\r\n      <div>\r\n        <label>\r\n          <input \r\n            className=\"form__input-number\" value={from === 'all' ? '' : from}\r\n            type=\"number\" id=\"from\" name=\"price\" onChange={this.changeHandler}\r\n            placeholder=\"Цена от\"\r\n          />\r\n        </label>\r\n        <label>\r\n          <input \r\n            className=\"form__input-number\" value={to === 'all' ? '' : to}\r\n            type=\"number\" id=\"to\" name=\"price\" onChange={this.changeHandler}\r\n            placeholder=\"до, руб.\"\r\n          />\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n} \r\n\r\nPriceFilter.contextType = AppContext;\r\n \r\nexport default PriceFilter;","import React, { Component } from 'react';\r\nimport AppContext from '../context/AppContext';\r\n\r\nclass FavoritesFilter extends Component {\r\n  state = {\r\n    isFavorite: this.context.filters.isFavorite\r\n  }\r\n  changeHandler = e => {\r\n    this.setState({\r\n      isFavorite: Boolean(Number(e.target.value))\r\n    }, () => this.context.setFilter({\r\n      name: 'isFavorite',\r\n      value: this.state.isFavorite\r\n    }));\r\n  }\r\n  render() {\r\n    const isFavorite = this.state.isFavorite;\r\n    return(\r\n      <div>\r\n        <label>\r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"favorites\" value={0} \r\n            checked={!isFavorite} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Все продукты</span>\r\n        </label>\r\n        <label>         \r\n          <input \r\n            className=\"form__input-radio\"\r\n            type=\"radio\" name=\"favorites\" value={1} \r\n            checked={isFavorite} onChange={this.changeHandler}\r\n          />\r\n          <span className=\"form__custom-input-radio\">Только избранное</span>\r\n        </label>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nFavoritesFilter.contextType = AppContext;\r\n\r\nexport default FavoritesFilter;","import React from 'react';\r\n\r\nimport CategoryFilter from '../containers/CategoryFilter';\r\nimport PriceFilter from '../containers/PriceFilter';\r\nimport FavoritesFilter from '../containers/FavoritesFilter';\r\n\r\nconst FilterBar = () => \r\n  <form className=\"form my-2\">\r\n    <h5>Фильтры</h5>\r\n    <div>\r\n      <div>\r\n        <span>Категория</span>\r\n        <CategoryFilter/>\r\n      </div>\r\n      <div>\r\n        <span>Цена</span>\r\n        <PriceFilter/>\r\n      </div>\r\n      <div>\r\n        <span>Избранное</span>\r\n        <FavoritesFilter/>\r\n      </div>\r\n    </div>\r\n  </form>\r\n\r\nexport default FilterBar;","import React, { Component } from 'react';\r\nimport AppContext from '../context/AppContext';\r\n\r\nclass SortBar extends Component {\r\n  state = {\r\n    value: this.context.sorting.value,\r\n    direction: this.context.sorting.direction\r\n  }\r\n  changeHandler = e => {\r\n    const {name, value} = e.target;\r\n    this.setState({\r\n      [name] : value\r\n    }, () => this.context.setSorting(this.state));\r\n  }\r\n  render() {\r\n    const { value, direction } = this.state;\r\n    return(\r\n      <form className=\"form\">\r\n        <div className=\"form__wrapper-sort\">\r\n          <div>\r\n            <h5>Сортировка</h5>\r\n            <div className=\"mr-5\">\r\n              <label>\r\n                <input \r\n                  className=\"form__input-radio\"\r\n                  type=\"radio\" name=\"value\" value=\"default\"\r\n                  checked={value === 'default'} onChange={this.changeHandler}\r\n                />\r\n                <span className=\"form__custom-input-radio\">Номер товара</span>\r\n              </label>\r\n              <label>\r\n                <input \r\n                  className=\"form__input-radio\"\r\n                  type=\"radio\" name=\"value\" value=\"rating\"\r\n                  checked={value === 'rating'} onChange={this.changeHandler}\r\n                />\r\n                <span className=\"form__custom-input-radio\">Рейтинг продавца</span>\r\n              </label>\r\n              <label>\r\n                <input \r\n                  className=\"form__input-radio\"\r\n                  type=\"radio\" name=\"value\" value=\"price\"\r\n                  checked={value === 'price'} onChange={this.changeHandler}\r\n                />\r\n                <span className=\"form__custom-input-radio\">Цена</span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div>\r\n            <h5>Направление сортировки</h5>\r\n            <div>\r\n              <label>\r\n                <input \r\n                  className=\"form__input-radio\"\r\n                  type=\"radio\" name=\"direction\" value=\"asc\"\r\n                  checked={direction === 'asc'} onChange={this.changeHandler}\r\n                />\r\n                <span className=\"form__custom-input-radio\">\r\n                  <span className=\"hidden__mobile\">Возрастание</span>\r\n                  <span className=\"hidden__desktop hidden-tablet\">▲</span>\r\n                </span>\r\n              </label>\r\n              <label>\r\n                <input \r\n                  className=\"form__input-radio\"\r\n                  type=\"radio\" name=\"direction\" value=\"desc\"\r\n                  checked={direction === 'desc'} onChange={this.changeHandler}\r\n                />\r\n                <span className=\"form__custom-input-radio\">\r\n                  <span className=\"hidden__mobile\">Убывание</span>\r\n                  <span className=\"hidden__desktop hidden-tablet\">▼</span> \r\n                </span>\r\n              </label>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    );\r\n  }\r\n}\r\n\r\nSortBar.contextType = AppContext;\r\n\r\nexport default SortBar;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport FilterBar from '../FilterBar';\r\nimport SortBar from '../../containers/SortBar.js';\r\n\r\nconst Header = () => \r\n  <header className=\"header\">\r\n    <div className=\"container\">\r\n      <h1>Главная</h1>\r\n      <Link to=\"/favorites\">\r\n        Избранное\r\n      </Link>\r\n      <FilterBar />\r\n      <SortBar />\r\n    </div>\r\n  </header>\r\n\r\nexport default Header;","export const urlProducts = 'https://avito.dump.academy/products';\r\nexport const urlSellers = 'https://avito.dump.academy/sellers';\r\nexport const initialItems = 9;\r\nexport const itemsToAdd = 3;\r\nexport const scrollMargin = 100;","import React, { useEffect } from 'react';\r\n\r\nimport ItemsList from '../ItemsList';\r\nimport Header from '../headers/Header';\r\nimport Content from '../Content';\r\n\r\nimport { initialItems } from '../../globals';\r\n\r\nimport { AppContextProvider } from '../../context/AppContext';\r\n\r\nconst Layout = ({ filterContext, favoritesContext, items, itemsToShow, sellers, favorites, setProductsToShow }) => {\r\n  const {setFilter, setSorting, sorting, filters} = filterContext;\r\n  const {addFavorite, removeFavorite} = favoritesContext;\r\n  useEffect(() => () => setProductsToShow(initialItems), [setProductsToShow]);\r\n  return (\r\n    <>\r\n      <AppContextProvider value={{setFilter, setSorting, sorting, filters}}>\r\n        <Header/>\r\n      </AppContextProvider>\r\n      <AppContextProvider value={{addFavorite, removeFavorite}}>\r\n        <Content>\r\n          <ItemsList \r\n            items={items} \r\n            itemsToShow={itemsToShow}\r\n            sellers={sellers} favorites={favorites}\r\n          />\r\n        </Content>\r\n      </AppContextProvider>\r\n    </>\r\n  );\r\n}\r\nexport default Layout;","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst HeaderFavorites = () => \r\n  <header className=\"header\">\r\n    <div className=\"container\">\r\n      <h1>Избранное</h1>\r\n      <Link to=\"/\">\r\n        На главную\r\n      </Link>\r\n    </div>\r\n  </header>\r\n  \r\nexport default HeaderFavorites;","import React, { useEffect } from 'react';\r\n\r\nimport ItemsList from '../ItemsList';\r\nimport HeaderFavorites from '../headers/HeaderFavorites';\r\nimport Content from '../Content';\r\n\r\nimport { initialItems } from '../../globals';\r\n\r\nimport { AppContextProvider } from '../../context/AppContext';\r\n\r\nconst LayoutFavorites = ({ favoritesContext, items, itemsToShow, sellers, setProductsToShow }) => {\r\n  const {addFavorite, removeFavorite} = favoritesContext;\r\n  useEffect(() => () => setProductsToShow(initialItems), [setProductsToShow]);\r\n  return (\r\n    <>\r\n      <HeaderFavorites/>\r\n      <AppContextProvider value={{addFavorite, removeFavorite}}>\r\n        <Content>\r\n          <ItemsList \r\n            items={items} \r\n            itemsToShow={itemsToShow}\r\n            sellers={sellers} \r\n          />\r\n        </Content>\r\n      </AppContextProvider>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default LayoutFavorites;","import React, { Component } from 'react';\nimport { Route, Switch } from 'react-router-dom';\nimport axios from 'axios';\n\nimport ErrorComponent from '../components/ErrorComponent';\nimport Loading from '../components/Loading';\nimport Layout from '../components/layouts/Layout';\nimport LayoutFavorites from '../components/layouts/LayoutFavorites';\n\nimport { initialItems, itemsToAdd, scrollMargin, urlProducts, urlSellers } from '../globals';\n\nclass App extends Component {\n  state = {\n    loading: true,\n    error: false,\n    products: [],\n    filteredProducts: null,\n    sellers: [],\n    favorites: JSON.parse(localStorage.getItem('avito-favorites')) || [],\n    filters: {\n      category: 'all',\n      price: { from: 'all', to: 'all' },\n      isFavorite: false\n    },\n    sorting: {\n      value: 'default',\n      direction: 'asc'\n    },\n    productsToShow: initialItems\n  }\n  fetchData(url) {\n    return axios.get(url)\n      .then(res => {\n        if (res.status !== 200) throw new Error('Network error');\n        return res.data;\n      })\n  }\n  addFavorite = item => {\n    let favorites = this.state.favorites.slice(0);\n    favorites.push(item);\n    this.setState({ favorites });\n  }\n  removeFavorite = item => {\n    let favorites = this.state.favorites.slice(0);\n    let index = favorites.findIndex(fav => fav.id === item.id);\n    favorites.splice(index, 1);\n    this.setState({ favorites });\n  }\n  filterProducts() {\n    const { filters, products, favorites } = this.state;\n    const { category, price: { from, to }, isFavorite } = filters;\n    let filteredProducts = products.slice(0);\n    filteredProducts = filteredProducts.filter(item => {\n      let price = item.price || 0;\n      if ((category === 'all' || item.category === category) &&\n          (from === 'all' || price >= from) &&\n          (to === 'all' || price < to) && \n          (!isFavorite || favorites.find(fav => fav.id === item.id))) {\n        return item;\n      }\n      return false;\n    });\n    this.setState({ \n      filteredProducts\n    }, () => this.setProductsToShow(initialItems));\n  }\n  sortProducts() {\n    const { sorting: {value, direction}, products, sellers } = this.state;\n    let sortedProducts = products.slice(0);\n    sortedProducts.sort((a, b) => {\n      switch (value) {\n        case 'price' : {\n          let priceA = a.price || 0;\n          let priceB = b.price || 0;\n          return direction === 'asc' ? priceA - priceB : priceB - priceA;\n        }\n        case 'rating' : {\n          let sellerA = sellers.find(person => person.id === a.relationships.seller);\n          let sellerB = sellers.find(person => person.id === b.relationships.seller);\n          return direction === 'asc' ? sellerA.rating - sellerB.rating : sellerB.rating - sellerA.rating;\n        }\n        case 'default' :\n        default : {\n          return direction === 'asc' ?  a.id - b.id : b.id - a.id;\n        }\n      }\n    });\n    this.setState({ \n      products: sortedProducts \n    }, () => this.setProductsToShow(initialItems));\n  }\n  scrollHandler = e => {\n    const { clientHeight, scrollTop, scrollHeight } = e.target.documentElement;\n    if ((clientHeight + scrollTop >= scrollHeight - scrollMargin) &&\n        (this.state.productsToShow < this.state.products.length )) {\n      this.setProductsToShow(this.state.productsToShow + itemsToAdd);\n    }\n  }\n  setTitle(title) { \n    document.title = title; \n  }\n  setProductsToShow = value => this.setState({ productsToShow: value })\n  setSorting = sorting => this.setState({ sorting })\n  setFilter = filter => \n    this.setState({\n      filters: { ...this.state.filters, ...{\n        [filter.name] : filter.value\n      }}\n    })\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.scrollHandler);\n    const fetchProducts = this.fetchData(urlProducts);\n    const fetchSellers = this.fetchData(urlSellers);\n    Promise.all([fetchProducts, fetchSellers])\n      .then(res => this.setState({ loading: false, products: res[0].data, sellers: res[1].data }))\n      .catch(error => this.setState({ loading: false, error }));\n  }\n  componentDidUpdate(_, prevState) {\n    const { products, filteredProducts, filters, sorting, favorites } = this.state;\n    if (prevState.filters !== filters || \n       (prevState.products !== products && prevState.products.length)) {\n      this.filterProducts();\n    }\n    if (prevState.sorting !== sorting) {\n      this.sortProducts();\n    }\n    if (prevState.favorites !== favorites) {\n      localStorage.setItem('avito-favorites', JSON.stringify(favorites));\n      if (filteredProducts) this.filterProducts();\n    }\n  }\n  render() {\n    const { \n      products, sellers, loading, error, filteredProducts, \n      favorites, productsToShow, sorting, filters \n    } = this.state;\n    const { setFilter, setSorting, addFavorite, removeFavorite, setProductsToShow } = { ...this };\n    return (\n      <>\n        {loading && !error && <Loading/>}\n        {error && <ErrorComponent error={error}/>}\n        {!loading && !error && \n          <Switch>\n            <Route exact path='/' render={() => {\n              this.setTitle(\"Avito test\");\n              return (\n                <Layout \n                  filterContext={{setFilter, setSorting, sorting, filters}} \n                  favoritesContext={{addFavorite, removeFavorite}}\n                  items={filteredProducts || products} itemsToShow={productsToShow}\n                  sellers={sellers} favorites={favorites} setProductsToShow={setProductsToShow}\n                />\n              );\n            }}/>\n            <Route path='/favorites' render={() => {\n              this.setTitle(\"Favorites\");\n              return (\n                <LayoutFavorites \n                  favoritesContext={{addFavorite, removeFavorite}}\n                  items={favorites} itemsToShow={productsToShow}\n                  sellers={sellers} setProductsToShow={setProductsToShow}\n                />\n              );\n            }}/>\n            <Route render={() => {\n              this.setTitle(\"404\");\n              return(<ErrorComponent error={\"page not found\"}/>);\n            }}/>\n          </Switch>\n        }\n      </>\n    );\n  }\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './css/style.css';\nimport App from './containers/App';\n\nReactDOM.render(\n  <BrowserRouter basename={process.env.PUBLIC_URL}>\n    <App />\n  </BrowserRouter>, \n  document.getElementById('root')\n);"],"sourceRoot":""}